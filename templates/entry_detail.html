{% extends 'layout.html' %}

{% block title %}Entry Details - Mood Journal{% endblock %}
{% block page_title %}Entry Details{% endblock %}

{% block back_button %}
<a href="{{ url_for('home') }}" class="back-button">&lt; Back</a>
{% endblock %}

{% block content %}
    <!-- Hero Section with Mood Display -->
    <div class="entry-hero mood-{{ entry.mood_value }}">
        <div class="mood-value">{{ entry.mood_value }}</div>
        <div class="mood-label">
            {% if entry.mood_value == 1 %}Very Bad
            {% elif entry.mood_value == 2 %}Bad
            {% elif entry.mood_value == 3 %}Neutral
            {% elif entry.mood_value == 4 %}Good
            {% elif entry.mood_value == 5 %}Great
            {% endif %}
        </div>
    </div>

    <!-- Detail Section -->
    <div class="entry-detail-section">
        <div class="entry-date">
            {{ entry.date.strftime('%A, %B %d, %Y at %I:%M %p') }}
        </div>
        <div class="entry-text">
            {{ entry.entry_text if entry.entry_text else 'No journal entry for this day.' }}
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="entry-actions">
        <a href="{{ url_for('edit_entry', entry_id=entry._id) }}" class="action-button edit">
            Edit
        </a>
        <button type="button" class="action-button delete" onclick="confirmDelete()">
            Delete
        </button>
    </div>

    <!-- Delete Form (Hidden) -->
    <form id="delete-form" method="POST" action="{{ url_for('delete_entry', entry_id=entry._id) }}" style="display: none;">
    </form>

    <script>
        function confirmDelete() {
            if (confirm('Are you sure you want to delete this entry?')) {
                document.getElementById('delete-form').submit();
            }
        }
    </script>
{% endblock %}
